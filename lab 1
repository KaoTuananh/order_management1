class CustomerBase:
    def __init__(self, customer_id, name, phone):
        self._customer_id = self._validate_positive_id(customer_id, "Customer_ID")
        self._name = self._validate_string_field(name, "Name", 100)
        self._phone = self._validate_phone(phone)
    
    @staticmethod
    def _validate_positive_id(value, field_name):
        if not isinstance(value, int):
            raise ValueError(f"{field_name} должен быть целым числом")
        if value <= 0:
            raise ValueError(f"{field_name} должен быть положительным числом")
        return value

    @staticmethod
    def _validate_string_field(value, field_name, max_length):
        if not isinstance(value, str):
            raise ValueError(f"{field_name} должен быть строкой")
        
        value = value.strip()
        
        if not value:
            raise ValueError(f"{field_name} не может быть пустым")
        
        if len(value) > max_length:
            raise ValueError(f"{field_name} не может быть длиннее {max_length} символов")
        
        return value

    @staticmethod
    def _validate_phone(phone):
        if not isinstance(phone, str):
            raise ValueError("Phone должен быть строкой")
        
        phone = phone.strip()
        
        if not phone:
            raise ValueError("Phone не может быть пустым")
        
        if len(phone) < 5:
            raise ValueError("Phone должен содержать минимум 5 символов")
        
        if len(phone) > 20:
            raise ValueError("Phone не может быть длиннее 20 символов")
        
        return phone
    
    @property
    def customer_id(self):
        return self._customer_id

    @property
    def name(self):
        return self._name

    @property
    def phone(self):
        return self._phone

    def __str__(self):
        return f"CustomerBase{{customer_id={self.customer_id}, name='{self.name}', phone='{self.phone}'}}"

    def __eq__(self, other):
        if not isinstance(other, CustomerBase):
            return False
        return (self.customer_id == other.customer_id and
                self.name == other.name and
                self.phone == other.phone)
